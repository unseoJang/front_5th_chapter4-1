## ğŸ“˜ ëª©ì°¨
1. [ê³¼ì œ ê°œìš”](#1-ê³¼ì œ-ê°œìš”)  
2. [íŒŒì´í”„ë¼ì¸ ê°œìš”ë„](#2-íŒŒì´í”„ë¼ì¸-ê°œìš”ë„)  
3. [ì£¼ìš” ë§í¬](#3-ì£¼ìš”-ë§í¬)  
4. [ì£¼ìš” ê°œë… ì •ë¦¬](#4-ì£¼ìš”-ê°œë…-ì •ë¦¬)  
5. [ë°°í¬ í”„ë¡œì„¸ìŠ¤ ì •ë¦¬](#5-ë°°í¬-í”„ë¡œì„¸ìŠ¤-ì •ë¦¬)  
6. [S3 â†’ CloudFront ì„±ëŠ¥ ìµœì í™” ë¶„ì„ ë³´ê³ ](#6-s3--cloudfront-ì„±ëŠ¥-ìµœì í™”-ë¶„ì„-ë³´ê³ )

## 1. ê³¼ì œ ê°œìš”

ì´ë²ˆ 4-1 ê³¼ì œëŠ” GitHubì™€ AWSë¥¼ ì‚¬ìš©í•´ CDNì´ ì ìš©ëœ í”„ë¡ íŠ¸ì—”ë“œ í”„ë¡œì íŠ¸ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•©ë‹ˆë‹¤. ì¸í”„ë¼ ë ˆë²¨ ìµœì í™”, íŠ¹íˆ CDNì„ ì‚¬ìš©í•œ ìµœì í™”ë¥¼ ì´í•´í•˜ê³  ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•œ ì‚¬ì „ ì‘ì—…ì¸ â€˜ëª¨ë‹ˆí„°ë§â€™ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.

---
## 2. íŒŒì´í”„ë¼ì¸ ê°œìš”ë„

![íŒŒì´í”„ë¼ì¸ ê°œìš”ë„](https://raw.githubusercontent.com/unseoJang/front_5th_chapter4-1/refs/heads/main/app/assets/images/img-deploy-pipeline.jpeg)

---
## 3. ì£¼ìš” ë§í¬

  - S3 ë²„í‚· ì›¹ì‚¬ì´íŠ¸ ì—”ë“œí¬ì¸íŠ¸: http://unseo-bucket.s3-website.ap-northeast-2.amazonaws.com/
  - CloudFrount ë°°í¬ ë„ë©”ì¸ ì´ë¦„: https://d2dqy6mkzzv7cu.cloudfront.net/
---
## 4. ì£¼ìš” ê°œë… ì •ë¦¬
### GitHub Actionsê³¼ CI/CD ë„êµ¬
#### âœ… 1. CI/CD ê°œë… ë¨¼ì € ì •ë¦¬

ğŸ§© CI: Continuous Integration (ì§€ì†ì  í†µí•©)
`"ê°œë°œìë“¤ì´ ìì£¼ ì½”ë“œë¥¼ ë³‘í•©í•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•´ ì˜¤ë¥˜ë¥¼ ë¹ ë¥´ê²Œ ë°œê²¬í•˜ëŠ” í”„ë¡œì„¸ìŠ¤"`
ëª¨ë“  ì»¤ë°‹ë§ˆë‹¤ ìë™ìœ¼ë¡œ:
Lint ê²€ì‚¬
Unit test
Build ì—¬ë¶€ í™•ì¸
ë²„ê·¸ë¥¼ ë¹ ë¥´ê²Œ ë°œê²¬í•˜ê³ , ì½”ë“œ í’ˆì§ˆ ìœ ì§€

ğŸš€ CD: Continuous Delivery / Deployment (ì§€ì†ì  ì „ë‹¬/ë°°í¬)
`"ì½”ë“œê°€ ìë™ìœ¼ë¡œ ìŠ¤í…Œì´ì§•ì´ë‚˜ í”„ë¡œë•ì…˜ì— ë°°í¬ë˜ë„ë¡ ë§Œë“œëŠ” ê³¼ì •"`
- Delivery: ë°°í¬ ì¤€ë¹„ê¹Œì§€ ìë™í™” (ìˆ˜ë™ ìŠ¹ì¸ í•„ìš”)
- Deployment: ë°°í¬ê¹Œì§€ ì™„ì „ ìë™í™” (ë²„íŠ¼ í•œ ë²ˆ ëˆ„ë¥´ê±°ë‚˜, ì•„ì˜ˆ ìë™)

#### âœ… 2. GitHub Actionsë€?
GitHubì—ì„œ ì œê³µí•˜ëŠ” CI/CD ìë™í™” í”Œë«í¼
`"ì½”ë“œë¥¼ pushí•  ë•Œë§ˆë‹¤ ì•Œì•„ì„œ í…ŒìŠ¤íŠ¸, ë¹Œë“œ, ë°°í¬ë¥¼ í•´ì£¼ëŠ” ë¹„ì„œ"`

ğŸ’¡ ì–´ë–¤ ì¼ë“¤ì„ ìë™í™”í•  ìˆ˜ ìˆì„ê¹Œ?
>	íŠ¸ë¦¬ê±°(ex. Push)	ì‹¤í–‰ ì˜ˆì‹œ
>	git push	í…ŒìŠ¤íŠ¸ ì‹¤í–‰, ë¹Œë“œ í™•ì¸, S3 ë°°í¬
>	PR ìƒì„±	ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬, ë¦¬ë·° ìš”ì²­
>	ë°°í¬ ë¸Œëœì¹˜ ë¨¸ì§€	Vercel / Firebase / S3ë¡œ ìë™ ë°°í¬
>	ë§¤ì¼ ìƒˆë²½ 2ì‹œ	cron ê¸°ë°˜ ì •ê¸° ì‹¤í–‰ ê°€ëŠ¥ ë“±ë“±...

```yml
# .github/workflows/deploy.yml ì˜ˆì‹œ
name: Deploy to S3

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - name: Install deps
        run: npm install
      - name: Build
        run: npm run build
      - name: Deploy to S3
        uses: jakejarvis/s3-sync-action@master
        with:
          args: --acl public-read
```
> ìš”ì•½:
> "on: ì–¸ì œ ì‹¤í–‰í• ì§€ (íŠ¸ë¦¬ê±°)"
> "jobs: ë¬´ìŠ¨ ì¼ì„ í• ì§€"
> "steps: ê° jobì—ì„œ ì–´ë–¤ ëª…ë ¹ì„ ì‹¤í–‰í• ì§€"

#### âœ… 4. ì™œ GitHub Actionsì¸ê°€?

| í•­ëª©           | ì´ìœ                                                   |
| ------------ | --------------------------------------------------- |
| ğŸ›  GitHub í†µí•© | GitHubì— ë‚´ì¥ë˜ì–´ ìˆì–´ ì„¤ì • ê°„ë‹¨                               |
| ğŸ’¸ ë¬´ë£Œ ì‚¬ìš© ê°€ëŠ¥  | í¼ë¸”ë¦­ ë¦¬í¬: ë¬´ì œí•œ, í”„ë¼ì´ë¹—ë„ ì›” 2ì²œ ë¶„ ì œê³µ                        |
| ğŸ§© ìƒíƒœê³„ í’ë¶€    | NPM publish, Docker, S3 ë°°í¬, Firebase ë“± ë‹¤ì–‘í•œ ê³µì‹ ì•¡ì…˜ ì œê³µ |
| ğŸ” ë³´ì•ˆ ê´€ë¦¬ í¸ë¦¬  | GitHub Secretsë¡œ ë°°í¬ í† í° ë“± ì•ˆì „í•˜ê²Œ ê´€ë¦¬ ê°€ëŠ¥                  |

#### âœ… 5. ë‹¤ë¥¸ CI/CD ë„êµ¬ë“¤ê³¼ ë¹„êµ
| ë„êµ¬                 | íŠ¹ì§•                                 |
| ------------------ | ---------------------------------- |
| **GitHub Actions** | GitHub ìƒíƒœê³„ ìµœì í™”. ì„¤ì • ê°„ë‹¨.             |
| **Jenkins**        | ê°•ë ¥í•œ ì»¤ìŠ¤í„°ë§ˆì´ì§•, ìì²´ ì„œë²„ í•„ìš”               |
| **CircleCI**       | ë¹ ë¥´ê³  ìœ ì—°. Docker ê¸°ë°˜.                 |
| **GitLab CI**      | GitLab ì‚¬ìš©ìì—ê²Œ ê°•ë ¥                    |
| **Travis CI**      | ì˜ˆì „ë¶€í„° ì¸ê¸° ìˆì—ˆìœ¼ë‚˜ GitHub Actionsì— ë§ì´ ë°€ë¦¼ |

#### 6. ìš”ì•½
> â€œCIëŠ” ì½”ë“œë¥¼ ìì£¼ í†µí•©í•˜ê³  ìë™ í…ŒìŠ¤íŠ¸í•´ì„œ ë¬¸ì œë¥¼ ì´ˆê¸°ì— ì¡ëŠ” ê³¼ì •ì´ê³ ,
CDëŠ” ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë°°í¬ê¹Œì§€ ì´ì–´ì£¼ëŠ” ê³¼ì •ì´ë‹¤.
GitHub ActionsëŠ” GitHubì— í†µí•©ëœ CI/CD ë„êµ¬ë¡œ, pushë§Œ í•´ë„ í…ŒìŠ¤íŠ¸ë¶€í„° ë°°í¬ê¹Œì§€ ìë™í™”í•  ìˆ˜ ìˆë‹¤.â€

#### S3ì™€ ìŠ¤í† ë¦¬ì§€
#### âœ… 1. ìŠ¤í† ë¦¬ì§€(Storage)ë€?
> ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„
> ìš°ë¦¬ê°€ ì»´í“¨í„°ì—ì„œ ì“°ëŠ” SSD, í•˜ë“œë””ìŠ¤í¬ë„ ì¼ì¢…ì˜ ìŠ¤í† ë¦¬ì§€

ì¢…ë¥˜ë³„ë¡œ ë‚˜ëˆ„ë©´?
| ë¶„ë¥˜          | ì„¤ëª…                      | ì˜ˆì‹œ                                  |
| ----------- | ----------------------- | ----------------------------------- |
| **ë¸”ë¡ ìŠ¤í† ë¦¬ì§€** | ë””ìŠ¤í¬ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” ì €ì¥ì†Œ          | EBS (AWS EC2ìš©)                      |
| **íŒŒì¼ ìŠ¤í† ë¦¬ì§€** | í´ë”/íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜ ê³µìœ  ì €ì¥ì†Œ     | NFS, Amazon EFS                     |
| **ê°ì²´ ìŠ¤í† ë¦¬ì§€** | íŒŒì¼ì„ "ê°ì²´(Object)" ë‹¨ìœ„ë¡œ ì €ì¥ | **Amazon S3**, Google Cloud Storage |

#### âœ… 2. S3ë€?

> Amazon Simple Storage Service
> AWSì—ì„œ ì œê³µí•˜ëŠ” ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì„œë¹„ìŠ¤ë¡œ,
> ì´ë¯¸ì§€, HTML, JS, ë¡œê·¸, ë°±ì—… ë“± ì •ì  íŒŒì¼ ì €ì¥ì— ìµœì í™”

í•µì‹¬ íŠ¹ì§•:
| í•­ëª©               | ì„¤ëª…                                            |
| ---------------- | --------------------------------------------- |
| ğŸ“¦ ê°ì²´(Object) ì €ì¥ | ê°ê°ì˜ íŒŒì¼ì€ ë©”íƒ€ë°ì´í„°ì™€ í•¨ê»˜ ì €ì¥ë¨                         |
| ğŸŒ ì›¹ ì ‘ê·¼ ê°€ëŠ¥       | íŒŒì¼ë§ˆë‹¤ URLë¡œ ì ‘ê·¼ ê°€ëŠ¥ (`https://bucket-name.s3...`) |
| ğŸ”„ ë¬´ì œí•œ í™•ì¥        | ìš©ëŸ‰ ì œí•œ ì—†ì´ í™•ì¥ ê°€ëŠ¥                                |
| ğŸ” ê¶Œí•œ ì œì–´         | í¼ë¸”ë¦­, í”„ë¼ì´ë¹—, IAM ì •ì±…, ë²„í‚· ì •ì±…ìœ¼ë¡œ ë³´ì•ˆ ì„¤ì •              |
| ğŸ’° ì €ë ´í•œ ìš”ê¸ˆ        | ì €ì¥ ìš©ëŸ‰ + ìš”ì²­ ìˆ˜ ê¸°ë°˜ ê³¼ê¸ˆ (ì •ì  íŒŒì¼ì— ìœ ë¦¬)                |

#### âœ… 3. S3ëŠ” ì–´ë””ì— ì“°ë‚˜?
| ì‚¬ìš© ì‚¬ë¡€            | ì„¤ëª…                                    |
| ---------------- | ------------------------------------- |
| **ì •ì  ì›¹ì‚¬ì´íŠ¸ í˜¸ìŠ¤íŒ…**  | HTML/CSS/JSë¥¼ S3ì— ì—…ë¡œë“œí•˜ê³  CloudFrontì™€ ì—°ê²° |
| **ì´ë¯¸ì§€/ì˜ìƒ ì €ì¥**    | ì¸ë„¤ì¼, í”„ë¡œí•„ ì´ë¯¸ì§€, ì—…ë¡œë“œ ì˜ìƒ ë“±                |
| **ë¡œê·¸/ë°±ì—… ì €ì¥ì†Œ**    | ì„œë²„ ë¡œê·¸, DB ë°±ì—… ë°ì´í„°                      |
| **ëª¨ë°”ì¼ ì•± ë¦¬ì†ŒìŠ¤ ì„œë²„** | React Native, Flutter ì•±ì—ì„œ ì´ë¯¸ì§€ ë¡œë”©ìš©     |

#### âœ… 4. S3 ì‘ë™ êµ¬ì¡°

```
[Bucket] â†’ í´ë”ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” key prefix
  â””â”€â”€ object (íŒŒì¼)
        â””â”€â”€ key = ê²½ë¡œ + íŒŒì¼ëª… (ì˜ˆ: uploads/image.png)
```
- ë²„í‚·(Bucket): S3ì˜ ìµœìƒìœ„ ë””ë ‰í† ë¦¬. í”„ë¡œì íŠ¸ ë‹¨ìœ„ë¡œ ê´€ë¦¬
- ê°ì²´(Object): íŒŒì¼ ë‹¨ìœ„ (ex. index.html, profile.jpg)
- í‚¤(Key): íŒŒì¼ì˜ "ê²½ë¡œ + ì´ë¦„" (ex. images/profile.jpg)

#### âœ… 5. S3 vs ì¼ë°˜ ë””ìŠ¤í¬ ìŠ¤í† ë¦¬ì§€
| í•­ëª©       | S3 (ê°ì²´ ìŠ¤í† ë¦¬ì§€)                | ì¼ë°˜ ë””ìŠ¤í¬ (ë¸”ë¡ ìŠ¤í† ë¦¬ì§€)   |
| -------- | --------------------------- | ------------------ |
| íŒŒì¼ ì ‘ê·¼ ë°©ì‹ | HTTP API (REST ê¸°ë°˜)          | ìš´ì˜ì²´ì œê°€ ì§ì ‘ ì½ìŒ/ì”€      |
| êµ¬ì¡°       | Key-Value í˜•íƒœ                | ë””ë ‰í† ë¦¬/íŒŒì¼ ê¸°ë°˜         |
| ìœ ìŠ¤ì¼€ì´ìŠ¤    | ì •ì  íŒŒì¼, ë°±ì—…, ì›¹ìì›              | DB ì €ì¥ì†Œ, ìš´ì˜ì²´ì œ ë³¼ë¥¨    |
| ì¥ì        | ë¬´ì œí•œ í™•ì¥, ë¹„ìš© íš¨ìœ¨ì               | ë¹ ë¥¸ ë””ìŠ¤í¬ I/O, ë¡œì»¬ ì €ì¥ìš© |
| ì˜ˆì‹œ       | AWS S3, GCP GCS, Azure Blob | AWS EBS, ë¡œì»¬ SSD    |

> "S3ëŠ” AWSì˜ ê°ì²´ ìŠ¤í† ë¦¬ì§€ ì„œë¹„ìŠ¤ë¡œ, ì´ë¯¸ì§€ë‚˜ HTML ê°™ì€ ì •ì  íŒŒì¼ì„ ë¬´ì œí•œ ì €ì¥í•˜ê³  ì›¹ìœ¼ë¡œ ë°”ë¡œ ì œê³µí•  ìˆ˜ ìˆì–´ìš”.
> CloudFrontì™€ ì—°ê²°í•˜ë©´ ê¸€ë¡œë²Œ CDN ì—­í• ê¹Œì§€ í•˜ì£ . ë¹„ìš©ë„ ì €ë ´í•´ì„œ ì›¹ ìì› ì €ì¥ì†Œë¡œ ë§ì´ ì”ë‹ˆë‹¤."

### CloudFrontì™€ CDN
#### âœ… 1. CDNì´ë€?
> Content Delivery Networkì˜ ì•½ì
> ì‚¬ìš©ìì˜ ì§€ë¦¬ì  ìœ„ì¹˜ì— ê°€ê¹Œìš´ ì„œë²„ì—ì„œ ì½˜í…ì¸ ë¥¼ ì „ë‹¬í•˜ëŠ” ë¶„ì‚°í˜• ë„¤íŠ¸ì›Œí¬

ì™œ í•„ìš”í• ê¹Œ?
- ì„œìš¸ì— ìˆëŠ” ì„œë²„ì—ì„œ ë¯¸êµ­ ì‚¬ìš©ìê°€ ì½˜í…ì¸ ë¥¼ ìš”ì²­í•˜ë©´ ì†ë„ ëŠë¦¼
- CDNì€ ì „ ì„¸ê³„ì— ë¶„ì‚°ëœ ì„œë²„(ì—£ì§€ ì„œë²„)ì— ì½˜í…ì¸ ë¥¼ ìºì‹±í•´ì„œ
â†’ ê°€ê¹Œìš´ ìœ„ì¹˜ì—ì„œ ë¹ ë¥´ê²Œ ì œê³µ

ğŸ“¦ ì˜ˆë¥¼ ë“¤ì–´:
- ì´ë¯¸ì§€, JS, CSS, í°íŠ¸, ì˜ìƒ ê°™ì€ ì •ì  ìì‚°
- ì›¹ì‚¬ì´íŠ¸ HTML í˜ì´ì§€

#### âœ… 2. CDNì˜ ì‘ë™ ì›ë¦¬
```
ì‚¬ìš©ì â†’ ê°€ê¹Œìš´ CDN ì—£ì§€ ì„œë²„ â†’ (ì—†ìœ¼ë©´) ì›ë³¸ ì„œë²„ì—ì„œ ê°€ì ¸ì™€ ìºì‹± â†’ ì‚¬ìš©ìì—ê²Œ ì‘ë‹µ
```
- ì—£ì§€ ì„œë²„(Edge Location): ì „ ì„¸ê³„ì— ë¶„ì‚°ëœ ìºì‹œ ì„œë²„
- ì˜¤ë¦¬ì§„ ì„œë²„(Origin): ì›ë³¸ íŒŒì¼ì´ ìˆëŠ” ì„œë²„ (ì˜ˆ: S3, ì›¹ì„œë²„)
> ğŸ“Œ ìºì‹œ ë•ë¶„ì— ë¹ ë¥´ê³ , ì›ë³¸ ì„œë²„ ë¶€í•˜ë„ ì¤„ì–´ë“¬

#### âœ… 3. CloudFrontë€?
> AWSê°€ ì œê³µí•˜ëŠ” CDN ì„œë¹„ìŠ¤

CloudFrontëŠ” CDNì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°,
S3, EC2, ALB, Lambda, ì™¸ë¶€ ì„œë²„ê¹Œì§€ ì–´ë–¤ ì˜¤ë¦¬ì§„ì—ë„ ì—°ê²° ê°€ëŠ¥

#### âœ… 4. CloudFrontì˜ ì£¼ìš” íŠ¹ì§•
| ê¸°ëŠ¥              | ì„¤ëª…                           |
| --------------- | ---------------------------- |
| ğŸŒ ì „ ì„¸ê³„ ì—£ì§€ ë¡œì¼€ì´ì…˜ | 400ê°œ ì´ìƒ ìœ„ì¹˜ì—ì„œ ì½˜í…ì¸  ì œê³µ          |
| âš¡ ë¹ ë¥¸ ì‘ë‹µ         | ê°€ê¹Œìš´ ì„œë²„ì—ì„œ ì œê³µ (ì €ì§€ì—°)            |
| ğŸ’¾ ìºì‹±           | ìì£¼ ìš”ì²­ë˜ëŠ” íŒŒì¼ì„ ì €ì¥, ì˜¤ë¦¬ì§„ ìš”ì²­ ì¤„ì„    |
| ğŸ” ë³´ì•ˆ           | SSL(HTTPS), WAF, OACë¡œ ë³´ì•ˆ ê°•í™”  |
| ğŸš« ì ‘ê·¼ ì œì–´        | íŠ¹ì • êµ­ê°€ ì œí•œ, ì„œëª…ëœ URL/S3 í”„ë¼ì´ë¹— ì§€ì› |
| ğŸ§  ì‚¬ìš©ì ë§ì¶¤       | ì¿ í‚¤/ì¿¼ë¦¬ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ë¥´ê²Œ ìºì‹± ê°€ëŠ¥         |
| ğŸ“ˆ ë¡œê·¸ ë° ë¶„ì„      | CloudWatch, S3, ë¡œê·¸ ì¶”ì  ê°€ëŠ¥     |

#### âœ… 5. CloudFrontì™€ S3 ê´€ê³„
| í•­ëª©         | ì„¤ëª…                                         |
| ---------- | ------------------------------------------ |
| S3         | ì›ë³¸ íŒŒì¼ ì €ì¥ì†Œ (ì •ì  ì›¹, ì´ë¯¸ì§€ ë“±)                    |
| CloudFront | ì „ ì„¸ê³„ ì‚¬ìš©ìì—ê²Œ ë¹ ë¥´ê²Œ ì½˜í…ì¸  ì „ë‹¬í•˜ëŠ” CDN                |
| ì—°ê²°         | S3ë¥¼ **ì˜¤ë¦¬ì§„(origin)** ìœ¼ë¡œ ì§€ì •í•˜ì—¬ CloudFrontì— ì—°ê²° |
> ğŸ“Œ S3 + CloudFront = ë¹ ë¥´ê³  ì•ˆì „í•œ ì •ì  ì½˜í…ì¸  ë°°í¬

#### âœ… ì‹¤ë¬´ ì˜ˆì‹œ íë¦„
1. ê°œë°œìê°€ S3ì— ì›¹ì‚¬ì´íŠ¸ íŒŒì¼ ì—…ë¡œë“œ
2. CloudFront ë°°í¬(distribution) ìƒì„± í›„, S3ë¥¼ originìœ¼ë¡œ ì„¤ì •
3. CloudFrontì˜ URLì„ ì‚¬ìš©ìì—ê²Œ ì œê³µ (https://d123.cloudfront.net)
4. ì‚¬ìš©ìê°€ ì ‘ì†í•˜ë©´ â†’ ê°€ê¹Œìš´ ì—£ì§€ ì„œë²„ì—ì„œ ì½˜í…ì¸  ì „ë‹¬

#### âœ… ìì£¼ ì“°ëŠ” ìš©ì–´ ì •ë¦¬
| ìš©ì–´                | ì„¤ëª…                      |
| ----------------- | ----------------------- |
| **Origin**        | ì›ë³¸ ì„œë²„ (S3, EC2 ë“±)       |
| **Edge location** | ì‚¬ìš©ìì™€ ê°€ê¹Œìš´ ìºì‹œ ì„œë²„          |
| **Distribution**  | CloudFront ì„¤ì • ë‹¨ìœ„        |
| **TTL**           | ìºì‹œ ìœ ì§€ ì‹œê°„ (Time To Live) |
| **Invalidation**  | ìºì‹œ ë¬´íš¨í™” ìš”ì²­ (íŒŒì¼ ë³€ê²½ ì‹œ)     |

#### âœ… ìš”ì•½ ì •ë¦¬
> CDNì€ ì „ ì„¸ê³„ ì–´ë””ì„œë“  ë¹ ë¥´ê²Œ ì½˜í…ì¸ ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•œ ë„¤íŠ¸ì›Œí¬ì´ê³ ,
CloudFrontëŠ” AWSê°€ ì œê³µí•˜ëŠ” CDN ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
S3ì™€ ì—°ê²°í•˜ë©´ ì •ì  ì½˜í…ì¸ ë¥¼ ì•ˆì „í•˜ê³  ë¹ ë¥´ê²Œ ë°°í¬í•  ìˆ˜ ìˆì–´ìš”.
(â†’ ì†ë„ ê°œì„ , ì„œë²„ ë¶€í•˜ ê°ì†Œ, ë³´ì•ˆ ê°•í™”ê¹Œì§€ ê°€ëŠ¥)

### ìºì‹œ ë¬´íš¨í™”(Cache Invalidation)
#### âœ… ìºì‹œ(Cache)ë€?
> ìì£¼ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë¥¼ ì„ì‹œë¡œ ì €ì¥í•´ë‘ëŠ” ê³µê°„.
ë•ë¶„ì— ë¹ ë¥´ê²Œ ì‘ë‹µí•  ìˆ˜ ìˆì§€ë§Œ, ë³€ê²½ëœ ë°ì´í„°ê°€ ë°˜ì˜ ì•ˆ ë˜ëŠ” ë¬¸ì œ ê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”.

ì˜ˆ:
> CloudFront ì—£ì§€ ì„œë²„ê°€ /index.htmlì„ ìºì‹±í•˜ê³  ìˆë‹¤ë©´,
> ì´í›„ S3ì—ì„œ ìƒˆë¡œìš´ /index.htmlì„ ì˜¬ë ¤ë„
> ì‚¬ìš©ìì—ê²ŒëŠ” ì—¬ì „íˆ ì˜›ë‚  ìºì‹œ ë²„ì „ì´ ë³´ì´ê²Œ ë©ë‹ˆë‹¤.

#### âœ… Cache Invalidation(ìºì‹œ ë¬´íš¨í™”)ë€?
> ê¸°ì¡´ì— ì €ì¥ëœ ìºì‹œë¥¼ ì œê±°í•´ì„œ, ë‹¤ìŒ ìš”ì²­ë¶€í„°ëŠ” ì˜¤ë¦¬ì§„ì—ì„œ ìƒˆë¡œìš´ ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜¤ê²Œ ë§Œë“œëŠ” ì‘ì—…
ì¦‰, â€œì•¼ ê·¸ íŒŒì¼ ë°”ë€Œì—ˆì–´, ë‹¤ì‹œ ê°€ì ¸ì™€!â€ ë¼ê³  CDNì—ê²Œ ì•Œë ¤ì£¼ëŠ” í–‰ìœ„ì˜ˆìš”.

#### âœ… CloudFrontì—ì„œ Invalidation í•˜ëŠ” ì´ìœ 
| ì´ìœ                 | ì„¤ëª…                                 |
| ----------------- | ---------------------------------- |
| ğŸ”„ íŒŒì¼ ìˆ˜ì • ì¦‰ì‹œ ë°˜ì˜    | ë¹Œë“œ í›„ ìƒˆ JS/CSS ë°°í¬í–ˆëŠ”ë° ì˜ˆì „ íŒŒì¼ ê³„ì† ë¡œë”©ë  ë•Œ |
| ğŸ§ª í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ | QA ë‹¨ê³„ì—ì„œ ë³€ê²½ì‚¬í•­ ë¹ ë¥´ê²Œ í™•ì¸                |
| âš ï¸ ì¤‘ìš” ë²„ê·¸ ìˆ˜ì • ë°˜ì˜    | ì˜ëª»ëœ HTML/CSSê°€ ìºì‹œë¼ ìˆëŠ” ê²½ìš° ê¸´ê¸‰ ë°˜ì˜      |

#### âœ… CloudFrontì—ì„œ Invalidation í•˜ëŠ” ë°©ë²•
1. AWS Console â†’ CloudFront â†’ ë°°í¬ ì„ íƒ
2. "Invalidations" íƒ­ â†’ [Create invalidation]
3. ê²½ë¡œ ì…ë ¥ (ì˜ˆ: /index.html, /static/*)
ë˜ëŠ” AWS CLI ì‚¬ìš©:

```bash
aws cloudfront create-invalidation \
  --distribution-id EXXXXXXXXXXX \
  --paths "/index.html" "/static/*"
```
#### âœ… ì‹¤ë¬´ì—ì„œ ìì£¼ ì“°ëŠ” íŒ¨í„´
| ë³€ê²½ ëŒ€ìƒ          | Invalidate ê²½ë¡œ ì˜ˆì‹œ              |
| -------------- | ----------------------------- |
| HTML íŒŒì¼ ë³€ê²½     | `/index.html`                 |
| ì •ì  ìì‚°(JS, CSS) | `/static/*` or ë²„ì „ ë„˜ë²„ë§ìœ¼ë¡œ ìºì‹± í”¼í•¨ |
| ì „ì²´ ìºì‹œ ì‚­ì œ       | `/*` (ì£¼ì˜! ë¹„ìš© + ì‹œê°„ ì¦ê°€)         |

#### âš ï¸ ì£¼ì˜ì‚¬í•­
| í•­ëª©                | ì„¤ëª…                                     |
| ----------------- | -------------------------------------- |
| ğŸ’° **ë¹„ìš© ë°œìƒ**      | ì›” 1000ê±´ ë¬´ë£Œ. ì´í›„ ìš”ì²­ë‹¹ ë¹„ìš© ë¶€ê³¼               |
| â± **ì‹¤ì‹œê°„ ì•„ë‹˜**      | ë³´í†µ ìˆ˜ì´ˆ \~ ìˆ˜ë¶„ ì†Œìš”ë¨                        |
| ğŸ¯ **ìµœì†Œ ë²”ìœ„ë§Œ ë¬´íš¨í™”** | `/*`ì²˜ëŸ¼ ì „ì²´ ë¬´íš¨í™”ëŠ” í”¼í•˜ê³ , í•„ìš”í•œ ê²½ë¡œë§Œ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ |

#### ğŸ’¡ ìºì‹œ ë¬´íš¨í™”ë¥¼ í”¼í•˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•
â†’ íŒŒì¼ëª…ì— í•´ì‹œ ë¶™ì´ê¸° (ìºì‹œ ë²„ìŠ¤íŒ…)
ì˜ˆ:

- `main.js` â†’ `main.abc123.js`
- ë³€ê²½ë˜ë©´ â†’ `main.def456.js`

> ì´ëŸ¬ë©´ CloudFrontëŠ” ìƒˆ íŒŒì¼ë¡œ ì¸ì‹í•´ì„œ ë³„ë„ ìºì‹œ ì ìš©ë¨
â†’ Invalidation ì—†ì´ë„ í•­ìƒ ìµœì‹  íŒŒì¼ ì œê³µ ê°€ëŠ¥

#### âœ… ìš”ì•½ ë¬¸ì¥
> Cache Invalidationì€ CDNì´ë‚˜ CloudFrontê°€ ìºì‹œí•œ íŒŒì¼ì„ ê°•ì œë¡œ ë¬´íš¨í™”í•´ì„œ, ë‹¤ìŒ ìš”ì²­ë¶€í„°ëŠ” ì›ë³¸ ì„œë²„(S3 ë“±)ì—ì„œ ìƒˆë¡œìš´ íŒŒì¼ì„ ë‹¤ì‹œ ê°€ì ¸ì˜¤ë„ë¡ í•˜ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.
ë³€ê²½ ì‚¬í•­ì´ ì¦‰ì‹œ ë°˜ì˜ë¼ì•¼ í•  ë•Œ í•„ìˆ˜ì´ë©°, ê°€ëŠ¥í•œ ë²”ìœ„ë¥¼ ì¢í˜€ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

### Repository secretì™€ í™˜ê²½ë³€ìˆ˜
#### âœ… 1. í™˜ê²½ë³€ìˆ˜(Environment Variable)ë€?
>ì½”ë“œ ì‹¤í–‰ ì¤‘ ì ‘ê·¼ ê°€ëŠ¥í•œ ì„¤ì •ê°’/ì •ë³´
ì˜ˆ: API í‚¤, ê²½ë¡œ, ë°°í¬ ëª¨ë“œ ë“±

```bash
NODE_ENV=production
AWS_REGION=ap-northeast-2
```
í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œë„ ì‚¬ìš©:
```ts
process.env.NODE_ENV // Node.js
```
CI/CDì—ì„œë„ ì‚¬ìš©:
```yaml
env:
  AWS_REGION: ap-northeast-2
```
#### âœ… 2. Repository Secretsë€?
> ë¯¼ê°í•œ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ëŠ” GitHub ê¸°ëŠ¥
ì˜ˆ: AWS Key, Firebase token, DB ë¹„ë°€ë²ˆí˜¸, ìŠ¬ë™ Webhook ë“±

- GitHub Actions ì›Œí¬í”Œë¡œìš°ì—ì„œëŠ” í™˜ê²½ë³€ìˆ˜ì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥
- ì½”ë“œì—ì„œëŠ” ë³¼ ìˆ˜ ì—†ìŒ, UIì—ì„œë§Œ ë“±ë¡/ì¡°íšŒ ê°€ëŠ¥
- ë…¸ì¶œ ìœ„í—˜ ì—†ì´ ì•ˆì „í•˜ê²Œ ê´€ë¦¬

#### âœ… 3. í™˜ê²½ë³€ìˆ˜ vs Secrets ë¹„êµ
| í•­ëª©    | í™˜ê²½ë³€ìˆ˜ (`env`)            | Secrets                             |
| ----- | ----------------------- | ----------------------------------- |
| ìš©ë„    | ì¼ë°˜ ì„¤ì •ê°’                  | ë¯¼ê°í•œ ë³´ì•ˆ ì •ë³´ (API key, token ë“±)        |
| ë…¸ì¶œ ì—¬ë¶€ | ë¡œê·¸ì— ë…¸ì¶œë  ìˆ˜ ìˆìŒ            | ê¸°ë³¸ì ìœ¼ë¡œ ë¡œê·¸ì—ì„œ ë§ˆìŠ¤í‚¹ë¨                     |
| ì„¤ì • ìœ„ì¹˜ | workflow íŒŒì¼ ë‚´ë¶€          | GitHub UI or CLI                    |
| ì˜ˆì‹œ    | `NODE_ENV`, `BUILD_DIR` | `AWS_ACCESS_KEY_ID`, `DATABASE_URL` |

#### âœ… 4. GitHubì—ì„œ Repository Secret ë“±ë¡ ë°©ë²•
1. GitHub â†’ ë¦¬í¬ì§€í† ë¦¬ â†’ Settings
2. ì™¼ìª½ ë©”ë‰´ì—ì„œ â†’ Secrets and variables > Actions
3. [New repository secret] í´ë¦­
4. Key: AWS_ACCESS_KEY_ID
		Value: AKIAxxxxxxxxxxxxxx

#### âœ… 5. GitHub Actionsì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
```yaml
env:
  NODE_ENV: production
  AWS_REGION: ap-northeast-2

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Access secret
        run: echo "Secret is ${{ secrets.AWS_ACCESS_KEY_ID }}"
```
- ì¼ë°˜ ë³€ìˆ˜ëŠ” env:
- Secretì€ secrets.ë³€ìˆ˜ëª…ìœ¼ë¡œ ì ‘ê·¼
> â— ì¤‘ìš”í•œ ì •ë³´ëŠ” ë°˜ë“œì‹œ secretsì— ì €ì¥í•˜ì„¸ìš”.

#### âœ… ë³´ë„ˆìŠ¤: Secret/Env ìš°ì„ ìˆœìœ„
| ìš°ì„ ìˆœìœ„ | ìœ„ì¹˜                    |
| ---- | --------------------- |
| 1    | step ë‚´ë¶€ `env`         |
| 2    | job ë‚´ë¶€ `env`          |
| 3    | workflow íŒŒì¼ ìƒë‹¨ì˜ `env` |
| 4    | GitHub í™˜ê²½ ë³€ìˆ˜ ì„¤ì •       |
| 5    | OSì˜ ê¸°ë³¸ í™˜ê²½ë³€ìˆ˜           |
#### ğŸ” ì‹¤ë¬´ ì˜ˆì‹œ
```yaml
jobs:
  deploy:
    runs-on: ubuntu-latest
    env:
      NEXT_PUBLIC_API_URL: https://api.example.com
    steps:
      - name: Set AWS credentials
        env:
          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
        run: aws s3 sync ./out s3://my-bucket-name
```
#### âœ… ìš”ì•½ ë¬¸ì¥
> í™˜ê²½ë³€ìˆ˜ëŠ” ì„¤ì •ê°’ì„, Repository Secretì€ ë¯¼ê°í•œ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ GitHubì˜ ê¸°ëŠ¥ì…ë‹ˆë‹¤.
> CI/CDì—ì„œ API í‚¤, í† í°, ë¹„ë°€ë²ˆí˜¸ëŠ” ë°˜ë“œì‹œ secretsì— ë„£ê³  ì‚¬ìš©í•´ì•¼ í•˜ë©°, GitHub Actionsì—ì„œëŠ” ${{ secrets.ë³€ìˆ˜ëª… }} í˜•ì‹ìœ¼ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤.

# 5. ë°°í¬ í”„ë¡œì„¸ìŠ¤ ì •ë¦¬
## ğŸš€ GitHub Actions ê¸°ë°˜ ë°°í¬ í”„ë¡œì„¸ìŠ¤ ìˆœì„œ ì •ë¦¬
### âœ… 1. í”„ë¡œì íŠ¸ ì¤€ë¹„
- ì½”ë“œê°€ GitHub ë¦¬í¬ì§€í† ë¦¬ì— ìˆì–´ì•¼ í•¨
- `npm run build`ë¡œ ì •ì  ë¹Œë“œ ê²°ê³¼ë¬¼(`out/`, `dist/`, `.next/`) ìƒì„± ê°€ëŠ¥í•´ì•¼ í•¨
- `.gitignore`ì— `node_modules/`, `dist/`, `.next/` ë“± ë¶ˆí•„ìš”í•œ ë¹Œë“œ ì•„ì›ƒí’‹ í¬í•¨

### âœ… 2. S3 ë²„í‚· + CloudFront ì¤€ë¹„ (í•œ ë²ˆë§Œ ì„¤ì •)
- S3ì— ì •ì  ì›¹ì‚¬ì´íŠ¸ í˜¸ìŠ¤íŒ… í™œì„±í™”
- CloudFront ë°°í¬ ìƒì„± â†’ S3ë¥¼ originìœ¼ë¡œ ì—°ê²°
- OAC (Origin Access Control) ì„¤ì •ìœ¼ë¡œ S3 ë³´ì•ˆ ê°•í™”
- ë°°í¬ í›„ CloudFront ë„ë©”ì¸ í™•ì¸ (ì˜ˆ: `https://d123.cloudfront.net`)

### âœ… 3. GitHub Secrets ë“±ë¡
GitHub ë¦¬í¬ì§€í† ë¦¬ â†’ Settings â†’ Secrets and variables â†’ *** Actions ***
| Key                     | Value                          |
| ----------------------- | ------------------------------ |
| `AWS_ACCESS_KEY_ID`     | IAMì—ì„œ ë°œê¸‰í•œ í‚¤                    |
| `AWS_SECRET_ACCESS_KEY` | IAM ë¹„ë°€ í‚¤                       |
| `AWS_REGION`            | ì˜ˆ: `ap-northeast-2`            |
| `S3_BUCKET_NAME`        | ì˜ˆ: `my-bucket-name`            |
| `DISTRIBUTION_ID`       | CloudFront ë°°í¬ ID (ì„ íƒ, ìºì‹œ ë¬´íš¨í™”ìš©) |

### âœ… 4. .github/workflows/deploy.yml ì‘ì„±
```yaml
name: Deploy to S3

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - name: Install dependencies
        run: npm ci

      - name: Build project
        run: npm run build

      - name: Deploy to S3
        uses: jakejarvis/s3-sync-action@master
        with:
          args: --acl public-read --delete
        env:
          AWS_S3_BUCKET: ${{ secrets.S3_BUCKET_NAME }}
          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          AWS_REGION: ${{ secrets.AWS_REGION }}
          SOURCE_DIR: './out' # or './dist' or '.next'

      - name: Invalidate CloudFront cache
        if: success()
        run: |
          aws cloudfront create-invalidation \
            --distribution-id ${{ secrets.DISTRIBUTION_ID }} \
            --paths "/*"
        env:
          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          AWS_REGION: ${{ secrets.AWS_REGION }}
```
### âœ… 5. main ë¸Œëœì¹˜ì— push
- `git push origin main` í•˜ë©´,
- GitHub Actionsê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰
- `build â†’ S3 ì—…ë¡œë“œ â†’ CloudFront ìºì‹œ ë¬´íš¨í™”`ê¹Œì§€ ìë™ìœ¼ë¡œ ì§„í–‰

### âœ… 6. ë°°í¬ ì™„ë£Œ
- CloudFront URLë¡œ ì ‘ê·¼ â†’ ìƒˆ ë¹Œë“œê°€ ë°˜ì˜ë˜ì–´ ìˆì–´ì•¼ í•¨

## ğŸ§¾ ìš”ì•½ ìˆœì„œ í•œ ì¤„ ìš”ì•½
1. GitHubì— í”„ë¡œì íŠ¸ ì˜¬ë¦¬ê¸°
2. S3/CloudFront ë¯¸ë¦¬ ì„¸íŒ…
3. GitHub Secretsì— AWS í‚¤ ë“±ë¡
4. `deploy.yml` ì‘ì„±
5. `main` ë¸Œëœì¹˜ì— push
6. GitHub Actionsê°€ ìë™ ë°°í¬ ìˆ˜í–‰

### âœ… Git ë¸Œëœì¹˜ ì „ëµ
| ë¸Œëœì¹˜    | ì—­í•                                    |
| ------ | ------------------------------------ |
| `dev`  | ê°œë°œ ë¸Œëœì¹˜ â€“ ê¸°ëŠ¥ ê°œë°œ, í…ŒìŠ¤íŠ¸, ì‚¬ë‚´ ë°°í¬ ë“±         |
| `main` | ìƒìš© ë°°í¬ ë¸Œëœì¹˜ â€“ CloudFront í†µí•´ ì‹¤ì œ ìœ ì €ì—ê²Œ ë°°í¬ |

### âœ… ì¶”ì²œ GitHub Actions êµ¬ì„± (ë¸Œëœì¹˜ ë¶„ë¦¬ ë°°í¬)
#### 1. dev ë¸Œëœì¹˜ push â†’ ìŠ¤í…Œì´ì§•ìš© S3 ë²„í‚·ì— ë°°í¬
```yaml
# .github/workflows/deploy-dev.yml
name: Deploy to DEV S3

on:
  push:
    branches: [dev]

jobs:
  deploy:
    ...
    env:
      AWS_S3_BUCKET: ${{ secrets.DEV_S3_BUCKET_NAME }}
      ...
```

#### 2. main ë¸Œëœì¹˜ push â†’ í”„ë¡œë•ì…˜ìš© S3 + CloudFrontì— ë°°í¬
```yaml
ë³µì‚¬
# .github/workflows/deploy-prod.yml
name: Deploy to PROD (main)

on:
  push:
    branches: [main]

jobs:
  deploy:
    ...
    env:
      AWS_S3_BUCKET: ${{ secrets.PROD_S3_BUCKET_NAME }}
      DISTRIBUTION_ID: ${{ secrets.PROD_DISTRIBUTION_ID }}
      ...
```

#### âœ… GitHub Secrets ì„¤ì • (2ì„¸íŠ¸ í•„ìš”)
| í™˜ê²½   | ë¹„ë°€í‚¤ ì´ë¦„ ì˜ˆì‹œ                                          |
| ---- | -------------------------------------------------- |
| DEV  | `DEV_S3_BUCKET_NAME`, `AWS_ACCESS_KEY_ID`, ...     |
| PROD | `PROD_S3_BUCKET_NAME`, `PROD_DISTRIBUTION_ID`, ... |

#### âœ… ì‹¤ë¬´ í”Œë¡œìš° ìš”ì•½
```plaintext
dev ë¸Œëœì¹˜ â†’ push â†’
  GitHub Actions â†’ ìŠ¤í…Œì´ì§•ìš© S3ì— ì—…ë¡œë“œ â†’ (ìŠ¤í…Œì´ì§• URLë¡œ í™•ì¸)

main ë¸Œëœì¹˜ â†’ push â†’
  GitHub Actions â†’ í”„ë¡œë•ì…˜ S3 ì—…ë¡œë“œ + CloudFront ìºì‹œ ë¬´íš¨í™” â†’ (ì‹¤ì œ ë°°í¬)
```

#### ğŸ“Œ ì‹¤ì œ í˜„ì—… ì˜ˆì‹œ
| ë¸Œëœì¹˜    | ë°°í¬ ìœ„ì¹˜                 | ì‚¬ìš©ì²˜     |
| ------ | --------------------- | ------- |
| `dev`  | `staging.example.com` | QA í…ŒìŠ¤íŠ¸ìš© |
| `main` | `www.example.com`     | ì‹¤ì œ ì‚¬ìš©ììš© |
â†’ CloudFront ë„ë©”ì¸ì„ ë¶„ë¦¬í•˜ê±°ë‚˜ S3 ë²„í‚·ì„ ë”°ë¡œ ë‘ëŠ” ì‹ìœ¼ë¡œ ë¶„ê¸°í•¨

#### âœ… ì¶”ê°€ íŒ: PR ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°ë„ ê°€ëŠ¥
- `dev` â†’ `main`ìœ¼ë¡œ PR ë§Œë“¤ ë•Œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- `main` ë¨¸ì§€ë˜ë©´ í”„ë¡œë•ì…˜ ë°°í¬
```yaml
on:
  pull_request:
    branches: [main]
```
### ğŸ”š ìš”ì•½
- GitHub Actionsì—ì„œëŠ” ë¸Œëœì¹˜ë§ˆë‹¤ workflow ë¶„ë¦¬í•´ì„œ S3ë‚˜ CloudFrontì— ë‹¤ë¥¸ í™˜ê²½ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥
- devëŠ” ì‚¬ë‚´ ìŠ¤í…Œì´ì§•, mainì€ ì‹¤ì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬í•˜ëŠ” ë°©ì‹ì´ ê°€ì¥ ì¼ë°˜ì 
- ê° ë¸Œëœì¹˜ë§ˆë‹¤ .yml êµ¬ì„±ê³¼ Secret ì„¸íŠ¸ë¥¼ ë”°ë¡œ ì§€ì •í•˜ëŠ” ê²Œ ì‹¤ë¬´ ê´€í–‰ì…ë‹ˆë‹¤.

# 6. S3 â†’ CloudFront ì„±ëŠ¥ ìµœì í™” ë¶„ì„ ë³´ê³ 
## ğŸ“Œ (1) í…ŒìŠ¤íŠ¸ í™˜ê²½
  - S3 ë²„í‚· ì›¹ì‚¬ì´íŠ¸ ì—”ë“œí¬ì¸íŠ¸: http://unseo-bucket.s3-website.ap-northeast-2.amazonaws.com/
  - CloudFrount ë°°í¬ ë„ë©”ì¸ ì´ë¦„: https://d2dqy6mkzzv7cu.cloudfront.net/
## ğŸ“ (2)í…ŒìŠ¤íŠ¸ ê²°ê³¼

![ì„±ëŠ¥ ìµœì í™” ë¶„ì„ë³´ê³ ](https://raw.githubusercontent.com/unseoJang/front_5th_chapter4-1/refs/heads/main/app/assets/images/img-blank-board.jpeg)

| **ì¸¡ì • ì§€í‘œ**            | **S3 ë‹¨ë…** | **CDN(CloudFront)** | **ê°œì„ ìœ¨**      |
| -------------------- | --------- | ------------------- | ------------ |
| **ì´ ì™„ë£Œ ì‹œê°„**          | 8.60ì´ˆ     | 7.28ì´ˆ               | **15.3% â¬‡ï¸** |
| **DOMContentLoaded** | 1.96ì´ˆ     | 884ms               | **54.9% â¬‡ï¸** |
| **ë¡œë“œ ì™„ë£Œ ì‹œì **         | 4.29ì´ˆ     | 1.85ì´ˆ               | **56.9% â¬‡ï¸** |
| **ì „ì†¡ í¬ê¸°**            | 11.0MB    | 10.8MB              | **1.8% â¬‡ï¸**  |
| **ë¦¬ì†ŒìŠ¤ í¬ê¸°**           | 11.0MB    | 11.0MB              | 0%           |
## âœ… (3) CDN ì‚¬ìš© í›„ ì„±ëŠ¥ ê°œì„ 
- ì´ˆê¸° ë Œë”ë§(DOMContentLoaded) ì†ë„ê°€ ì•½ 2ë°° ê°€ê¹Œì´ ê°œì„ ë˜ì–´ ì‚¬ìš©ì ì²´ê° ì†ë„ ìƒìŠ¹
- ì „ì²´ ë¡œë”© ì‹œê°„ë„ ì•½ 15% ë‹¨ì¶•, í˜ì´ì§€ ì „í™˜ ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- ë¦¬ì†ŒìŠ¤ í¬ê¸°ëŠ” ë™ì¼í•˜ì§€ë§Œ ì „ì†¡ ìµœì í™”ë¡œ ì¸í•´ ë„¤íŠ¸ì›Œí¬ íš¨ìœ¨ì„± í–¥ìƒ
- CloudFront ìºì‹± ë° ë¶„ì‚° êµ¬ì¡°ë¥¼ í†µí•´ ì •ì  ë¦¬ì†ŒìŠ¤ ì „ë‹¬ ì†ë„ê°€ ëˆˆì— ë„ê²Œ í–¥ìƒë¨

## âœ… CloudFront ìµœì í™” ì´ì  ìš”ì•½
- ì§€ë¦¬ì  ìºì‹±: ì‚¬ìš©ìì™€ ê°€ê¹Œìš´ Edge Locationì—ì„œ ì‘ë‹µ â†’ ì§€ì—° ì‹œê°„ ê°ì†Œ
- HTTP/2 ì§€ì›: ë³‘ë ¬ ë‹¤ìš´ë¡œë“œ ë° í—¤ë” ì••ì¶• ì§€ì›ìœ¼ë¡œ ë¸Œë¼ìš°ì € ì„±ëŠ¥ í–¥ìƒ
- ì••ì¶• ë° ìºì‹± ì •ì±… ì ìš© ê°€ëŠ¥: Gzip/Brotli + TTL ì¡°ì •
- ë³´ì•ˆ ë° ë„ë©”ì¸ í†µí•©: HTTPS ì¸ì¦ì„œ, ì‚¬ìš©ì ë„ë©”ì¸ ì—°ê²° ê°€ëŠ¥ (e.g., cdn.mywebsite.com)

## âœ… ì¶”ì²œ í›„ì† ì¡°ì¹˜
- CloudFrontì— ëŒ€í•œ TTL ì •ì±… ìµœì í™” (ë³€ê²½ ë¹ˆë„ ë‚®ì€ ë¦¬ì†ŒìŠ¤ëŠ” ìºì‹œ ì§€ì† ì‹œê°„ ì¦ê°€)
- Gzip/Brotli ì••ì¶• ì„¤ì • í™•ì¸ (ì‘ì€ js/css íŒŒì¼ì´ë¼ë„ ë” ë¹¨ë¼ì§ˆ ìˆ˜ ìˆìŒ)
- ì •ì  ìì‚° ë²„ì „ ê´€ë¦¬ (main.abcd1234.js í˜•íƒœ) ë„ì…ìœ¼ë¡œ ìºì‹œ ë¬´íš¨í™” íš¨ìœ¨ í™•ë³´
